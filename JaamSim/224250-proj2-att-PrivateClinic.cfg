
RecordEdits

Define EventSchedule { ResidentNumberSchedule }
Define ExpressionThreshold { CA_Available }
Define TimeSeries { WorkingHours }
Define TimeSeriesThreshold { ClinicOpen }
Define BooleanSelector { ResidentCaseSelector }
Define DiscreteDistribution { NewReturnDistr  NumberOfResidentCases  ShowUpDistr }
Define DiscreteUniformDistribution { RandRoomChoice }
Define ExponentialDistribution { TestDistrNew  TestDistrReturn }
Define Assign { AssignR1  AssignR2  AssignR3  AssignR4  FollowUpPatient  NewPatient  ReturnPatient  SetResidentCases }
Define Branch { Branch3  ConsultAttending  NewOrReturn  RoomChoice1  RoomChoice2  RoomChoice3  ShowUpOrNot  ShowUpOrNot2 }
Define EntityConveyor { CheckOut  Registration }
Define EntityGate { NextPatient  PatientTooEarly  PatientTooEarly2 }
Define EntityGenerator { FollowUpGen  GenerateResidentCases  NewReturnGen }
Define EntityProcessor { PA_and_Attending  Vitals1  Vitals2  Vitals3  Vitals4 }
Define EntitySink { Cancelled  ShiftSink }
Define Queue { PAQueue2  Queue1  Queue10  Queue11  Queue12  Queue13  Queue14  Queue15  Queue16  Queue17  Queue18  ResidentQ1  ResidentQ2  ResidentQ3  TooEarlyQueue  TooEarlyQueue2  VitalsQ1  VitalsQ2  VitalsQ3  VitalsQ4  WaitDoc1  WaitDoc2  WaitDoc3  WaitingRoom }
Define Release { DocLeaves1  DocLeaves2  DocLeaves3  PALeaves  PALeaves2  R1_free  R2_free  R3_free  R4_free }
Define Seize { DocEnters1  DocEnters2  DocEnters3  PAEnters  R1_occ  R2_occ  R3_occ  R4_occ }
Define Server { Attending1  Attending2  Attending3  PA  ResidentPatient1  ResidentPatient2  ResidentPatient3  ResidentReview1  ResidentReview2  ResidentReview3  Teach1  Teach2  Teach3 }
Define SimEntity { FollowUp  NewReturn  Shift }
Define ResourceUnit { Assistant  CA  Doctor  R1  R2  R3  R4 }
Define ColladaModel { Axis  Grid100x100 }
Define DisplayEntity { XY-Grid  XYZ-Axis }
Define EntityLabel { CheckOut_Label  NewReturn_Label  Registration_Label  Shape1_Label }
Define OverlayClock { Clock }
Define OverlayText { Title }
Define Shape { Shape1 }
Define View { View1 }

WorkingHours UnitType { DimensionlessUnit }
ClinicOpen UnitType { DimensionlessUnit }
NewReturnDistr UnitType { DimensionlessUnit }
NumberOfResidentCases UnitType { DimensionlessUnit }
ShowUpDistr UnitType { DimensionlessUnit }

Simulation StartDate { '2024-01-01 00:00:00' }

Simulation AttributeDefinitionList { { NumberOfResidentCases  0 } }
FollowUp AttributeDefinitionList { { PatientType  '"NotSet"' } { RoomID  0 } }
NewReturn AttributeDefinitionList { { PatientType  '"NotSet"' } { RoomID  0 } { ResidentCase  0 } }

Simulation Description { 'Simulation run control inputs' }

# *** EventSchedule ***

ResidentNumberSchedule TimeList { 7.99  12.99  h }
ResidentNumberSchedule CycleTime { 24  h }

# *** ExpressionThreshold ***

CA_Available OpenCondition { '[CA].UnitsInUse == 0' }

# *** TimeSeries ***

WorkingHours Value { { 0  h  0 } { 8  h  1 } { 12  h  0 } { 13  h  1 } { 17  h  0 } }
WorkingHours CycleTime { 24  h }

# *** TimeSeriesThreshold ***

ClinicOpen TimeSeries { WorkingHours }

# *** BooleanSelector ***

ResidentCaseSelector RandomSeed { 3 }

# *** DiscreteDistribution ***

NewReturnDistr RandomSeed { 6 }
NewReturnDistr ValueList { 1  2 }
NewReturnDistr ProbabilityList { 0.43  0.57 }

NumberOfResidentCases RandomSeed { 2 }
NumberOfResidentCases MinValue { 0 }
NumberOfResidentCases MaxValue { 14 }
NumberOfResidentCases ValueList { 0  1  2  3  4  5  6  7  8  9  10  11  12  13  14 }
NumberOfResidentCases ProbabilityList { 0.006  0.016  0.063  0  0.115  0.185  0.214  0.174  0.128  0.064  0.028  0.006  0.001  0  0 }

ShowUpDistr RandomSeed { 7 }
ShowUpDistr ValueList { 1  2 }
ShowUpDistr ProbabilityList { 0.9  0.1 }

# *** DiscreteUniformDistribution ***

RandRoomChoice RandomSeed { 1 }
RandRoomChoice MinValue { 1 }
RandRoomChoice MaxValue { 2 }

# *** ExponentialDistribution ***

TestDistrNew RandomSeed { 4 }

TestDistrReturn RandomSeed { 5 }

# *** Assign ***

AssignR1 NextComponent { VitalsQ1 }
AssignR1 StateAssignment {  }
AssignR1 AttributeAssignmentList { { 'this.obj.RoomID = 1' } }

AssignR2 NextComponent { VitalsQ2 }
AssignR2 AttributeAssignmentList { { 'this.obj.RoomID = 2' } }

AssignR3 NextComponent { VitalsQ3 }
AssignR3 AttributeAssignmentList { { 'this.obj.RoomID = 3' } }

AssignR4 NextComponent { VitalsQ4 }
AssignR4 AttributeAssignmentList { { 'this.obj.RoomID = 4' } }

FollowUpPatient StateAssignment {  }
FollowUpPatient AttributeAssignmentList { { 'this.obj.PatientType = "FollowUp"' } }

NewPatient NextComponent { TooEarlyQueue }
NewPatient AttributeAssignmentList { { 'this.obj.PatientType = "New"' } }

ReturnPatient NextComponent { TooEarlyQueue }
ReturnPatient AttributeAssignmentList { { 'this.obj.PatientType = "Return"' } }

SetResidentCases NextComponent { ShiftSink }
SetResidentCases AttributeAssignmentList { { '[Simulation].NumberOfResidentCases = [NumberOfResidentCases].Value' } }

# *** Branch ***

NewOrReturn NextComponentList { NewPatient  ReturnPatient }
NewOrReturn Choice { NewReturnDistr }

RoomChoice1 NextComponentList { RoomChoice2  RoomChoice3  R4_occ }
RoomChoice1 Choice { '([CA_Available].Open && this.obj.PatientType == "FollowUp") ? 3 :
([CA_Available].Open && [R1].UnitsInUse == 0 && [R3].UnitsInUse == 1) ? 1 :
([CA_Available].Open && [R1].UnitsInUse == 1 && [R3].UnitsInUse == 0) ? 2 :
([CA_Available].Open && [R1].UnitsInUse == 0 && [R3].UnitsInUse == 0) ? [RandRoomChoice].Value : 1' }

RoomChoice2 NextComponentList { R1_occ  R2_occ }
RoomChoice2 Choice { '([CA_Available].Open && [R1].UnitsInUse == 0 && [R2].UnitsInUse == 1) ? 1 :
([CA_Available].Open && [R1].UnitsInUse == 1 && [R2].UnitsInUse == 0) ? 2 :
([CA_Available].Open && [R1].UnitsInUse == 0 && [R2].UnitsInUse == 0) ? [RandRoomChoice].Value : 1' }

RoomChoice3 NextComponentList { R2_occ  R3_occ }
RoomChoice3 Choice { '([CA_Available].Open && [R2].UnitsInUse == 0 && [R3].UnitsInUse == 1) ? 1 :
([CA_Available].Open && [R2].UnitsInUse == 1 && [R3].UnitsInUse == 0) ? 2 :
([CA_Available].Open && [R2].UnitsInUse == 0 && [R3].UnitsInUse == 0) ? [RandRoomChoice].Value : 1' }

ShowUpOrNot NextComponentList { NewOrReturn  Cancelled }
ShowUpOrNot Choice { ShowUpDistr }

ShowUpOrNot2 NextComponentList { FollowUpPatient  Cancelled }
ShowUpOrNot2 Choice { ShowUpDistr }

# *** EntityGate ***

NextPatient NextComponent { RoomChoice1 }
NextPatient WaitQueue { WaitingRoom }

PatientTooEarly WaitQueue { TooEarlyQueue }

PatientTooEarly2 NextComponent { WaitingRoom }

# *** EntityGenerator ***

FollowUpGen NextComponent { ShowUpOrNot2 }
FollowUpGen PrototypeEntity { FollowUp }

GenerateResidentCases NextComponent { SetResidentCases }
GenerateResidentCases FirstArrivalTime { ResidentNumberSchedule }
GenerateResidentCases InterArrivalTime { ResidentNumberSchedule }
GenerateResidentCases PrototypeEntity { Shift }

NewReturnGen NextComponent { ShowUpOrNot }
NewReturnGen PrototypeEntity { NewReturn }

# *** EntityProcessor ***

Vitals1 NextComponent { ResidentQ1 }
Vitals1 WaitQueue { VitalsQ1 }
Vitals1 ResourceList { CA }

Vitals2 NextComponent { ResidentQ2 }
Vitals2 WaitQueue { VitalsQ2 }
Vitals2 ResourceList { CA }

Vitals3 NextComponent { ResidentQ3 }
Vitals3 WaitQueue { VitalsQ3 }
Vitals3 ResourceList { CA }

Vitals4 WaitQueue { VitalsQ4 }
Vitals4 ResourceList { CA }

# *** Queue ***

WaitingRoom Priority { '
[WaitingRoom].QueueLength == 0 ? 1 :
(this.obj.TotalTime < [WaitingRoom].QueueList(1).TotalTime) ? [WaitingRoom].QueueLength + 1 :
(this.obj.TotalTime > [WaitingRoom].QueueList(1).TotalTime) ? 1 : 2
' }

# *** Seize ***

R1_occ NextComponent { AssignR1 }

R2_occ NextComponent { AssignR2 }

R3_occ NextComponent { AssignR3 }

R4_occ NextComponent { AssignR4 }

# *** Server ***

ResidentReview1 WaitQueue { ResidentQ1 }

ResidentReview2 WaitQueue { ResidentQ2 }

ResidentReview3 WaitQueue { ResidentQ3 }

# *** GRAPHICS INPUTS ***

Simulation RealTime { TRUE }
Simulation SnapToGrid { TRUE }
Simulation ShowLabels { TRUE }
Simulation ShowSubModels { TRUE }
Simulation ShowReferences { FALSE }
Simulation ShowEntityFlow { TRUE }
Simulation ShowModelBuilder { TRUE }
Simulation ShowObjectSelector { TRUE }
Simulation ShowInputEditor { TRUE }
Simulation ShowOutputViewer { TRUE }
Simulation ShowPropertyViewer { FALSE }
Simulation ShowLogViewer { FALSE }
Simulation ControlPanelWidth { 1920 }

ResidentNumberSchedule Position { -11.7  7.0  0.0  m }

CA_Available Position { 6.0  5.0  0.0  m }

WorkingHours Position { -22.5  3.5  0.0  m }

ClinicOpen Position { -22.5  2.3  0.0  m }

ResidentCaseSelector Position { -10.5  3.0  0.0  m }

NewReturnDistr Position { -16.5  4.0  0.0  m }

NumberOfResidentCases Position { -8.2  7.0  0.0  m }

ShowUpDistr Position { -21.9  -1.5  0.0  m }

RandRoomChoice Position { -3.5  3.5  0.0  m }

TestDistrNew Position { 5.5  -6.5  0.0  m }

TestDistrReturn Position { 8.5  -6.5  0.0  m }

AssignR1 Position { 2.5  3.5  0.0  m }

AssignR2 Position { 2.5  1.5  0.0  m }

AssignR3 Position { 2.5  -0.5  0.0  m }

AssignR4 Position { 2.5  -3.5  0.0  m }

FollowUpPatient Position { -16.5  -3.5  0.0  m }

NewPatient Position { -16.5  2.5  0.0  m }

ReturnPatient Position { -16.5  0.5  0.0  m }

SetResidentCases Position { -8.9  5.5  0.0  m }

Branch3 Position { 24.5  1.5  0.0  m }

ConsultAttending Position { 16.5  -3.5  0.0  m }

NewOrReturn Position { -18.5  0.5  0.0  m }

RoomChoice1 Position { -4.5  1.5  0.0  m }

RoomChoice2 Position { -2.5  2.5  0.0  m }

RoomChoice3 Position { -2.5  0.5  0.0  m }

ShowUpOrNot Position { -20.5  0.5  0.0  m }

ShowUpOrNot2 Position { -20.5  -3.5  0.0  m }

CheckOut Points { { 27.5  1.5  0.0  m } { 30.0  1.5  0.0  m } }
CheckOut LineWidth { 6 }
CheckOut LineColour { Red }

Registration Points { { -11.7  1.5  0.0  m } { -9.2  1.5  0.0  m } }
Registration LineWidth { 6 }
Registration LineColour { Lime }

NextPatient Position { -6.5  1.5  0.0  m }

PatientTooEarly Position { -12.5  1.5  0.0  m }

PatientTooEarly2 Position { -12.5  -3.5  0.0  m }

FollowUpGen Position { -22.5  -3.5  0.0  m }

GenerateResidentCases Position { -11.4  5.5  0.0  m }

NewReturnGen Position { -22.5  0.5  0.0  m }

PA_and_Attending Position { 16.5  -7.5  0.0  m }

Vitals1 Position { 6.0  3.5  0.0  m }

Vitals2 Position { 6.0  1.5  0.0  m }

Vitals3 Position { 6.0  -0.5  0.0  m }

Vitals4 Position { 6.0  -3.5  0.0  m }

Cancelled Position { -20.5  -1.5  0.0  m }

ShiftSink Position { -7.1  5.5  0.0  m }

PAQueue2 Position { 12.5  -3.5  0.0  m }

Queue1 Position { 16.5  -5.5  0.0  m }

Queue10 Position { 10.5  3.5  0.0  m }

Queue11 Position { 10.5  1.5  0.0  m }

Queue12 Position { 10.5  -0.5  0.0  m }

Queue13 Position { 16.5  3.5  0.0  m }

Queue14 Position { 16.5  1.5  0.0  m }

Queue15 Position { 16.5  -0.5  0.0  m }

Queue16 Position { 19.6  3.6  0.0  m }

Queue17 Position { 19.6  1.5  0.0  m }

Queue18 Position { 19.6  -0.6  0.0  m }

ResidentQ1 Position { 7.4  3.5  0.0  m }

ResidentQ2 Position { 7.4  1.5  0.0  m }

ResidentQ3 Position { 7.4  -0.5  0.0  m }

TooEarlyQueue Position { -14.5  1.5  0.0  m }

TooEarlyQueue2 Position { -14.5  -3.5  0.0  m }
TooEarlyQueue2 Size { 0.5  0.5  0.0  m }

VitalsQ1 Position { 4.4  3.5  0.0  m }

VitalsQ2 Position { 4.4  1.5  0.0  m }

VitalsQ3 Position { 4.4  -0.5  0.0  m }

VitalsQ4 Position { 4.4  -3.5  0.0  m }

WaitDoc1 Position { 13.4  3.5  0.0  m }

WaitDoc2 Position { 13.4  1.5  0.0  m }

WaitDoc3 Position { 13.4  -0.5  0.0  m }

WaitingRoom Position { -8.5  1.5  0.0  m }

DocLeaves1 Position { 23.0  3.5  0.0  m }

DocLeaves2 Position { 23.0  1.5  0.0  m }

DocLeaves3 Position { 23.0  -0.5  0.0  m }

PALeaves Position { 18.5  -3.5  0.0  m }

PALeaves2 Position { 18.5  -7.5  0.0  m }

R1_free Position { 26.0  3.5  0.0  m }

R2_free Position { 26.0  1.5  0.0  m }

R3_free Position { 26.0  -0.5  0.0  m }

R4_free Position { 21.5  -3.5  0.0  m }

DocEnters1 Position { 15.0  3.5  0.0  m }

DocEnters2 Position { 15.0  1.5  0.0  m }

DocEnters3 Position { 15.0  -0.5  0.0  m }

PAEnters Position { 10.5  -3.5  0.0  m }

R1_occ Position { 0.5  3.5  0.0  m }

R2_occ Position { 0.5  1.5  0.0  m }

R3_occ Position { 0.5  -0.5  0.0  m }

R4_occ Position { 0.5  -3.5  0.0  m }

Attending1 Position { 21.0  3.5  0.0  m }

Attending2 Position { 21.0  1.5  0.0  m }

Attending3 Position { 21.0  -0.5  0.0  m }

PA Position { 14.5  -3.5  0.0  m }

ResidentPatient1 Position { 12.0  3.5  0.0  m }

ResidentPatient2 Position { 12.0  1.5  0.0  m }

ResidentPatient3 Position { 12.0  -0.5  0.0  m }

ResidentReview1 Position { 9.0  3.5  0.0  m }

ResidentReview2 Position { 9.0  1.5  0.0  m }

ResidentReview3 Position { 9.0  -0.5  0.0  m }

Teach1 Position { 18.0  3.5  0.0  m }

Teach2 Position { 18.0  1.5  0.0  m }

Teach3 Position { 18.0  -0.5  0.0  m }

FollowUp Position { -24.5  -3.5  0.0  m }
FollowUp Alignment { 0.0  0.0  -0.5 }

NewReturn Position { -24.4  0.5  0.0  m }
NewReturn Alignment { 0.0  0.0  -0.5 }
NewReturn Size { 0.5  0.5  0.5  m }

Shift Position { -13.1  5.5  0.0  m }
Shift Alignment { 0.0  0.0  -0.5 }

Assistant Position { 11.2  5.2  0.0  m }

CA Position { 9.2  5.2  0.0  m }

Doctor Position { 10.2  5.2  0.0  m }

R1 Position { 0.2  5.2  0.0  m }
R1 Size {  }

R2 Position { 0.8  5.2  0.0  m }

R3 Position { 1.4  5.2  0.0  m }

R4 Position { 2.0  5.2  0.0  m }

# *** ColladaModel ***

Axis ColladaFile { <res>/shapes/axis_text.dae }

Grid100x100 ColladaFile { <res>/shapes/grid100x100.dae }

# *** DisplayEntity ***

XY-Grid Description { 'Grid for the X-Y plane (100 m x 100 m)' }
XY-Grid Size { 100  100  m }
XY-Grid DisplayModel { Grid100x100 }
XY-Grid Show { TRUE }
XY-Grid Movable { FALSE }

XYZ-Axis Description { 'Unit vectors' }
XYZ-Axis Alignment { -0.4393409  -0.4410096  -0.4394292 }
XYZ-Axis Size { 1.125000  1.1568242  1.1266404  m }
XYZ-Axis DisplayModel { Axis }
XYZ-Axis Show { FALSE }
XYZ-Axis Movable { FALSE }

# *** EntityLabel ***

CheckOut_Label Position { 0.0  -0.2  0.0  m }
CheckOut_Label Size { 1.1  0.3  1.0  m }
CheckOut_Label RelativeEntity { CheckOut }
CheckOut_Label Show { FALSE }
CheckOut_Label TargetEntity { CheckOut }

NewReturn_Label Position { -0.2  -0.4  0.0  m }
NewReturn_Label Size { 1.3  0.3  1.0  m }
NewReturn_Label RelativeEntity { NewReturn }
NewReturn_Label Show { FALSE }
NewReturn_Label TargetEntity { NewReturn }

Registration_Label Position { 0.0  -0.2  0.0  m }
Registration_Label Size { 1.4  0.3  1.0  m }
Registration_Label RelativeEntity { Registration }
Registration_Label Show { FALSE }
Registration_Label TargetEntity { Registration }

Shape1_Label Position { 0.0  -0.65  0.0  m }
Shape1_Label Size { 0.9  0.3  1.0  m }
Shape1_Label RelativeEntity { Shape1 }
Shape1_Label Show { FALSE }
Shape1_Label TargetEntity { Shape1 }

# *** OverlayClock ***

Clock Description { 'Simulation date and time' }
Clock ScreenPosition { 15  15 }
Clock AlignBottom { TRUE }
Clock TextHeight { 10 }
Clock FontColour { gray20 }
Clock FontStyle { ITALIC }
Clock DateFormat { 'yyyy-MMM-dd HH:mm:ss.SSS' }

# *** OverlayText ***

Title Description { 'Title for the simulation model' }
Title ScreenPosition { 15  15 }
Title Format { 'Model Title' }
Title TextHeight { 18 }
Title FontColour { 150  23  46 }
Title FontStyle { BOLD }

# *** Shape ***

Shape1 Position { -10.0  5.8  0.0  m }
Shape1 Size { 7.9  3.3  1.0  m }
Shape1 Filled { FALSE }
Shape1 FillColour { Gray }
Shape1 LineColour { Red }
Shape1 LineWidth { 3 }

# *** View ***

View1 Description { 'Default view window' }
View1 ViewCenter { -10.92634  0.61596  11.888654  m }
View1 ViewPosition { -10.92634  0.61596  29.209129  m }
View1 ShowWindow { TRUE }
View1 Lock2D { TRUE }
View1 SkyboxImage { <res>/images/sky_map_2048x1024.jpg }
